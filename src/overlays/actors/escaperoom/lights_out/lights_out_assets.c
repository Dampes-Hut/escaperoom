#include "lights_out.h"

// MESH

u64 sLightsOutBoardEdgeTex[] = {
    // 32x32 I8
    0x515155573f475547, 0x4e55555149515151, 0x4747474e4e3f4755, 0x555555554e515151, 0x3c3c352e25272f35,
    0x35353c35282e2117, 0x262d302c2d21352e, 0x352d353c30323028, 0x2e2e251712251e27, 0x262a3027222d1e17,
    0x2c2c2e2e2525251e, 0x25251e2d2d2d261e, 0x2525252e2e2c2c30, 0x3c2d2d302e302e26, 0x2525210f070f1716,
    0x2525262620192e2d, 0x160f19222228272e, 0x2e262e2f3537271a, 0x211e211a22222225, 0x2c35352e302f3c2e,
    0x171716191a191917, 0x252e2d2d211f1717, 0x1e20171725252225, 0x2c3535352d2d2e25, 0x372c212222251917,
    0x252e202021140f11, 0x07070f1712222222, 0x1722252517171712, 0x0000000000000000, 0x0000000000000000,
    0x0000000000000000, 0x0000000000000000, 0x171e2e1f1a122225, 0x17212e2d2e201721, 0x252226251e1a220f,
    0x1216200f17172525, 0x2726261717222222, 0x2225252d2d2e2e2d, 0x2c252525191a252d, 0x2c2e27272d373535,
    0x2628282e252e2525, 0x2c35374747514747, 0x3f3f3f353f3f4737, 0x2c352e3e383f3c3c, 0x211e262e2d2e352e,
    0x4721192d353c3c2e, 0x2525212d3c3c2c1a, 0x21302e36282d261e, 0x2e2e282f2d2e352e, 0x47352e352c352e2e,
    0x2c2d2c2d271e1f11, 0x22372d2d21293036, 0x2e283035282d2127, 0x4735372d262e261f, 0x212d2c2c212e2512,
    0x171e171f22303c30, 0x22262e2e17252228, 0x3f2e221217252525, 0x2525252d2e352e12, 0x11160f1719212517,
    0x2d3535261725212e, 0x37250f0717213535, 0x2e2525252e2d2117, 0x192517252e2e1720, 0x3f2d252c252d2d2d,
    0x473c2e2828303c3c, 0x2e2e2e292d272e17, 0x2130302f353c2e35, 0x352d252e2e2e2d30, 0x4e3b3c4a493b3e2e,
    0x2e302d292d352e1f, 0x2e352c2d25353039, 0x1e1e2e3c352e2d2e, 0x473046493b372e2e, 0x353c433c352e2517,
    0x1e251f1717222222, 0x201f26352d27262e, 0x5037313b322d2726, 0x353c50372e1e250f, 0x17252d351e22282e,
    0x22262219262e3037, 0x472e2d2e352d2631, 0x3030302e2e252e17, 0x252e3c3c35312737, 0x3a3c312d31303c3c,
    0x37220f17252e2e26, 0x170f070f0f1a251e, 0x212e352d2728262a, 0x3a373e433e282d2d, 0x2825201726303f36,
    0x2e2225171721212e, 0x25252225252e3532, 0x2e262e3e302d1f26, 0x1f25252525252f3e, 0x352c2c2522171725,
    0x2525252521353c35, 0x473f474747474747, 0x474747474747474e, 0x473f47473f37373f, 0x3f47474751555555,
    0x3736352122252526, 0x262c2d2721212e21, 0x222225252e211f28, 0x352e272e2d2d3536, 0x3135251222222222,
    0x22221f2121221e26, 0x17171e2626272128, 0x2e1f1f2511191725, 0x211e2e2525252525, 0x220f192e302d1f2e,
    0x25212a322e2e2627, 0x2d21251e1f2e2525, 0x22251e252e252522, 0x25252d37372a1e20, 0x173042402a2d2d2d,
    0x211f21272e352e17, 0x2e2127352e252525, 0x1f2e303b3b3b3528, 0x1e2e433f31362e22, 0x1917251e25252525,
    0x352e2e2517171a1a, 0x212631363034464a, 0x373137312a3c3c21, 0x1917170f0f121726, 0x0000000000000000,
    0x0000000000000000, 0x0000000000000000, 0x0000000000000000,

};

u64 sLightsOutBoardTopTex[] = {
    // 32x32 RGBA16
    0x5acf5acf528f62d1, 0x5acf4a494a4b528d, 0x4a8b4a4b528d5ad1, 0x5acf528d524d4a4d, 0x524d524d528d5ad1,
    0x5ad1528f528d4a4b, 0x528d528f528f5ad1, 0x52cf524d528d6313, 0x4a4b424b39c9420b, 0x420b39c739c739c7,
    0x39c731c739c7420b, 0x420b39c941c939c9, 0x31c939c739c741cb, 0x420939c939c939c7, 0x39c739c739c9420b,
    0x41c939c742094a8d, 0x4a4b39c918c318c3, 0x2103210521032103, 0x2103210321032103, 0x2103210321032103,
    0x2103210321032103, 0x2103210321032103, 0x2103210321032103, 0x18c318c331c7524d, 0x5acf420b21032903,
    0x3147318731852945, 0x2945294529452945, 0x2945314529452945, 0x2945294529452945, 0x2945294529052945,
    0x2945318531853145, 0x29452103420b62d1, 0x5acf420921032945, 0x3187210518c31083, 0x1083188318831883,
    0x10831083108318c3, 0x18c318c310831083, 0x18c318c310831083, 0x108318c321053187, 0x29452105420b5acf,
    0x4a8b318721053147, 0x2105084310431083, 0x188518c520c520c5, 0x18c5188520c520c5, 0x20c520c518c518c5,
    0x20c520c518c51083, 0x1883108308432105, 0x3185210531c74a49, 0x4a4b398729053145, 0x1883108318831885,
    0x18c5210521052105, 0x18c518c521052905, 0x2945290521052105, 0x29452945210518c5, 0x20c518c3108318c3,
    0x3145210539c74a4b, 0x4a4b39c921432903, 0x08431083188518c5, 0x18c5210521072947, 0x2947294721072907,
    0x2907290721072907, 0x3147294721072105, 0x210520c518831083, 0x2905210339c7528d, 0x4a4939c721052905,
    0x1083108318c52105, 0x2947290729473187, 0x3987398729472107, 0x2947294729472107, 0x2947294721072107,
    0x2105210518831083, 0x2905210339c74a8b, 0x424939c921052905, 0x188318c521052947, 0x31873187294739c9,
    0x39c939c931472949, 0x3189318931892949, 0x3149398731873147, 0x210718c510851083, 0x2905210331c74a4b,
    0x4a4939c921052905, 0x18c318c521053147, 0x3987398731473989, 0x41c939c931493189, 0x39c939c931893149,
    0x398939c939c93987, 0x294718c518c518c3, 0x2905290339c7528d, 0x5a8f420b21052905, 0x18c318c521053147,
    0x398739c931493189, 0x39c939c929493189, 0x39c939c939c93149, 0x398941c939c93987, 0x3147210520c518c3,
    0x29052103420b5ad1, 0x5acf420b29032945, 0x188318c518c52907, 0x2947314729492949, 0x3189314929493189,
    0x39c939c939892949, 0x3189398939893987, 0x294720c520c518c3, 0x21052105420b5acf, 0x4a8d39c929032905,
    0x108318c529052907, 0x29073189398939c9, 0x3189294929493149, 0x3149318929492949, 0x2949294929472947,
    0x210718c518c51883, 0x2905210339c9528d, 0x528b39c921052905, 0x188320c529452947, 0x2947398939c941c9,
    0x3989314939c939c9, 0x3989318929493189, 0x39c9398931892947, 0x2107210518c51083, 0x2103290341c9524d,
    0x4a4d39c921052905, 0x18c320c529452947, 0x2947398939c941c9, 0x3189318941c941c9, 0x41c941c931893189,
    0x39c939c939892947, 0x2947294520c51083, 0x2105210539c9524d, 0x420b39c921032905, 0x188320c529452947,
    0x2947398939c93989, 0x2949318941c941c9, 0x41c941c931893189, 0x39c939c939892947, 0x2947294520c518c3,
    0x2905210331c9524d, 0x424939c921052105, 0x108318c521052107, 0x2107314931493149, 0x31493149398941c9,
    0x41c941c931493189, 0x39c939c931892947, 0x2947294520c51883, 0x2905210339c7528b, 0x420939c921052945,
    0x1083108521052947, 0x29472947294939c9, 0x39c9398931493189, 0x3989318929492949, 0x3189318929472107,
    0x2947290518c51083, 0x2945210331c7524d, 0x5a8f420b21032943, 0x108318c529453187, 0x39873187318939c9,
    0x39c939c939c92949, 0x2949318939c93989, 0x2949314931873147, 0x290718c518851083, 0x2945210341c962d1,
    0x528d420b21032903, 0x108318c529453187, 0x39873187314939c9, 0x39c939c939c93189, 0x318941c9420941c9,
    0x3189398941c93987, 0x314720c518c518c3, 0x2905210341c95ad1, 0x4a4b39c929052945, 0x108318c529053147,
    0x3987398729473189, 0x39c939c931892949, 0x39c941c941c941c9, 0x3189318739c73987, 0x3147210518c518c3,
    0x2905210339c9528f, 0x4a4b39c929052945, 0x1083108521052947, 0x3187318729472947, 0x2947294729472947,
    0x318739c939c93987, 0x2947294739873987, 0x294718c518851083, 0x2903210339c9528d, 0x424939c721052105,
    0x1043108318c52105, 0x2107290731473987, 0x3187290731873187, 0x2947318731872947, 0x2947294729472947,
    0x210518c510831043, 0x2103214331c74a4b, 0x4a4b3a0929052105, 0x1083188318c520c5, 0x18c5210731473187,
    0x3147290731473187, 0x2947210721072947, 0x31473147210718c5, 0x18c518c510831043, 0x2103210339c7528d,
    0x4a4b420b29052945, 0x1883108318c318c5, 0x18c5210529052945, 0x2105210529452945, 0x2945210521052945,
    0x29452905210518c5, 0x18c518c3108318c3, 0x2945210339c7528f, 0x4a4b420b21032945, 0x2105084310831883,
    0x1083188518c520c5, 0x18c518c521052105, 0x20c518c518c520c5, 0x20c520c518c51083, 0x1083108308432103,
    0x3145210339c9528f, 0x5a8f420b21032945, 0x3987290518c31083, 0x1083108310831083, 0x10831083188318c3,
    0x18c3108310831883, 0x1883108310831043, 0x108318c321053185, 0x29432105420b5ad1, 0x528d39cb20c32945,
    0x2985318531452945, 0x2945294529452945, 0x2945294529452945, 0x2945294529452945, 0x2945294529452945,
    0x2945314531853145, 0x290518c339c952cf, 0x4a4b39c918c318c3, 0x1903210321032103, 0x2103210321032103,
    0x2103210321032103, 0x2103210321032103, 0x2103210521032103, 0x2103210321032103, 0x18c318c339c7528d,
    0x4a49420939c9420b, 0x420b318739873a09, 0x3a0939c939cb420d, 0x420b39c939c939c9, 0x39c941c941c9420b,
    0x420b41cb41c939c7, 0x3a09420b420b420d, 0x3a0b39c942094a4b, 0x5acf4a8b4a4b5acf, 0x5acf4a8b4a4b4a49,
    0x4a4942094a09528d, 0x5acf528d524b4a4d, 0x420b42094209528d, 0x528d4a4b424b4249, 0x4a494a494a4b528f,
    0x524d4a4b4a4b5acf,

};

// clang-format off
Vtx sLightsOutBoard_CullVtx[8] = {
    {{ { -25000,   0, -25000}, 0, {0, 0}, {0, 0, 0, 0} }},
    {{ { -25000,   0,  25000}, 0, {0, 0}, {0, 0, 0, 0} }},
    {{ { -25000, 750,  25000}, 0, {0, 0}, {0, 0, 0, 0} }},
    {{ { -25000, 750, -25000}, 0, {0, 0}, {0, 0, 0, 0} }},
    {{ {  25000,   0, -25000}, 0, {0, 0}, {0, 0, 0, 0} }},
    {{ {  25000,   0,  25000}, 0, {0, 0}, {0, 0, 0, 0} }},
    {{ {  25000, 750,  25000}, 0, {0, 0}, {0, 0, 0, 0} }},
    {{ {  25000, 750, -25000}, 0, {0, 0}, {0, 0, 0, 0} }},
};
// clang-format on

#define TC(x) ((x)*32)
#define TCB(x) (((x)-0.5) * 32)

#define TC_TOP_MAX_X (LIGHTSOUT_GRID_X * 32.0)
#define TC_TOP_MAX_Y (LIGHTSOUT_GRID_Y * 32.0)

// This shift is required to maximize the texture coordinate precision for point-sampling a low-resolution texture.
// The larger the shift the more precision, best possible for given N is S = log2(32767/(32*N)) = 9 - log2(N)
#define TC_OVL_SFT_X 6
#define TC_OVL_SFT_Y 6
#define TC_OVL_MAX_X (LIGHTSOUT_GRID_X * (1 << TC_OVL_SFT_X))
#define TC_OVL_MAX_Y (LIGHTSOUT_GRID_Y * (1 << TC_OVL_SFT_Y))

// clang-format off
Vtx sLightsOutBoard_Vtx[20] = {
    // EDGES
    {{ {  25000,   0,  25000 }, 0, { TCB(           336.0), TCB(            32.0) }, { 255, 255, 255, 255 } }},
    {{ {  25000, 750,  25000 }, 0, { TCB(           336.0), TCB(             0.0) }, { 255, 255, 255, 255 } }},
    {{ { -25000, 750,  25000 }, 0, { TCB(          -304.0), TCB(             0.0) }, { 255, 255, 255, 255 } }},
    {{ { -25000,   0,  25000 }, 0, { TCB(          -304.0), TCB(            32.0) }, { 255, 255, 255, 255 } }},
    {{ {  25000,   0, -25000 }, 0, { TCB(           336.0), TCB(            32.0) }, { 255, 255, 255, 255 } }},
    {{ {  25000, 750,  25000 }, 0, { TCB(          -304.0), TCB(             0.0) }, { 255, 255, 255, 255 } }},
    {{ {  25000,   0,  25000 }, 0, { TCB(          -304.0), TCB(            32.0) }, { 255, 255, 255, 255 } }},
    {{ {  25000, 750, -25000 }, 0, { TCB(           336.0), TCB(             0.0) }, { 255, 255, 255, 255 } }},
    {{ { -25000,   0, -25000 }, 0, { TCB(          -304.0), TCB(            32.0) }, { 255, 255, 255, 255 } }},
    {{ { -25000, 750, -25000 }, 0, { TCB(          -304.0), TCB(             0.0) }, { 255, 255, 255, 255 } }},
    {{ { -25000,   0,  25000 }, 0, { TCB(           336.0), TCB(            32.0) }, { 255, 255, 255, 255 } }},
    {{ { -25000, 750,  25000 }, 0, { TCB(           336.0), TCB(             0.0) }, { 255, 255, 255, 255 } }},

    // TOP
    {{ { -25000, 750, -25000 }, 0, { TCB(         0.0-1.5), TCB(         0.0-1.5) }, { 255, 255, 255, 255 } }},
    {{ { -25000, 750,  25000 }, 0, { TCB(         0.0-1.5), TCB(TC_TOP_MAX_Y-1.5) }, { 255, 255, 255, 255 } }},
    {{ {  25000, 750,  25000 }, 0, { TCB(TC_TOP_MAX_X-1.5), TCB(TC_TOP_MAX_Y-1.5) }, { 255, 255, 255, 255 } }},
    {{ {  25000, 750, -25000 }, 0, { TCB(TC_TOP_MAX_X-1.5), TCB(         0.0-1.5) }, { 255, 255, 255, 255 } }},

    // OVERLAY
    {{ { -25000, 750, -25000 }, 0, { TC (             0.0), TC (             0.0) }, { 255, 255, 255, 255 } }},
    {{ { -25000, 750,  25000 }, 0, { TC (             0.0), TC (    TC_OVL_MAX_Y) }, { 255, 255, 255, 255 } }},
    {{ {  25000, 750,  25000 }, 0, { TC (    TC_OVL_MAX_X), TC (    TC_OVL_MAX_Y) }, { 255, 255, 255, 255 } }},
    {{ {  25000, 750, -25000 }, 0, { TC (    TC_OVL_MAX_X), TC (             0.0) }, { 255, 255, 255, 255 } }},
};
// clang-format on

Gfx gLightsOutBoardDL[] = {
    gsSPClearGeometryMode(G_LIGHTING | G_FOG | G_TEXTURE_GEN | G_TEXTURE_GEN_LINEAR),
    gsSPVertex(sLightsOutBoard_CullVtx, ARRAY_COUNT(sLightsOutBoard_CullVtx), 0),
    gsSPCullDisplayList(0, 7),

    // EDGES

    gsSPLoadGeometryMode(G_ZBUFFER | G_SHADE | G_CULL_BACK | G_FOG | G_SHADING_SMOOTH),
    gsSPTexture(65535, 65535, 0, G_TX_RENDERTILE, G_ON),
    gsDPPipeSync(),
    gsDPSetOtherMode(G_AD_NOISE | G_CD_MAGICSQ | G_CK_NONE | G_TC_FILT | G_TF_BILERP | G_TT_NONE | G_TL_TILE |
                         G_TD_CLAMP | G_TP_PERSP | G_CYC_2CYCLE | G_PM_NPRIMITIVE,
                     G_AC_NONE | G_ZS_PIXEL | G_RM_FOG_SHADE_A | G_RM_AA_ZB_OPA_SURF2),
    gsDPSetCombineLERP(TEXEL0, 0, SHADE, 0, 0, 0, 1, PRIMITIVE, 0, 0, 0, COMBINED, 0, 0, 0, COMBINED),

    gsDPSetTextureImage(G_IM_FMT_I, G_IM_SIZ_8b_LOAD_BLOCK, 1, sLightsOutBoardEdgeTex),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_8b_LOAD_BLOCK, 0, 0x000 / 8, G_TX_LOADTILE, 0, G_TX_WRAP | G_TX_NOMIRROR,
                G_TX_NOMASK, G_TX_NOLOD, G_TX_WRAP | G_TX_NOMIRROR, G_TX_NOMASK, G_TX_NOLOD),
    gsDPLoadBlock(G_TX_LOADTILE, 0, 0, 511, 512),
    gsDPSetTile(G_IM_FMT_I, G_IM_SIZ_8b, 4, 0x000 / 8, G_TX_RENDERTILE, 0, G_TX_WRAP | G_TX_NOMIRROR, 5, G_TX_NOLOD,
                G_TX_WRAP | G_TX_NOMIRROR, 5, G_TX_NOLOD),
    gsDPSetTileSize(G_TX_RENDERTILE, 0, 0, 31 << G_TEXTURE_IMAGE_FRAC, 31 << G_TEXTURE_IMAGE_FRAC),

    gsSPVertex(sLightsOutBoard_Vtx, ARRAY_COUNT(sLightsOutBoard_Vtx), 0),

    gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
    gsSP2Triangles(4, 5, 6, 0, 4, 7, 5, 0),
    gsSP2Triangles(8, 7, 4, 0, 8, 9, 7, 0),
    gsSP2Triangles(10, 9, 8, 0, 10, 11, 9, 0),

    // TOP

    gsDPPipeSync(),
    gsDPSetOtherMode(G_AD_NOISE | G_CD_MAGICSQ | G_CK_NONE | G_TC_FILT | G_TF_BILERP | G_TT_NONE | G_TL_TILE |
                         G_TD_CLAMP | G_TP_PERSP | G_CYC_2CYCLE | G_PM_NPRIMITIVE,
                     G_AC_NONE | G_ZS_PIXEL | Z_CMP | G_RM_FOG_SHADE_A | G_RM_AA_OPA_SURF2), // Z-Compare only

    gsDPSetTextureImage(G_IM_FMT_RGBA, G_IM_SIZ_16b_LOAD_BLOCK, 1, sLightsOutBoardTopTex),
    gsDPSetTile(G_IM_FMT_RGBA, G_IM_SIZ_16b_LOAD_BLOCK, 0, 0, G_TX_LOADTILE, 0, G_TX_WRAP | G_TX_NOMIRROR, G_TX_NOMASK,
                G_TX_NOLOD, G_TX_WRAP | G_TX_NOMIRROR, G_TX_NOMASK, G_TX_NOLOD),
    gsDPLoadBlock(G_TX_LOADTILE, 0, 0, 1023, 256),
    gsDPSetTile(G_IM_FMT_RGBA, G_IM_SIZ_16b, 8, 0x000 / 8, G_TX_RENDERTILE, 0, G_TX_WRAP | G_TX_NOMIRROR, 5, G_TX_NOLOD,
                G_TX_WRAP | G_TX_NOMIRROR, 5, G_TX_NOLOD),
    gsDPSetTileSize(G_TX_RENDERTILE, 122, 122, 31 << G_TEXTURE_IMAGE_FRAC, 31 << G_TEXTURE_IMAGE_FRAC),

    gsSP2Triangles(12, 13, 14, 0, 12, 14, 15, 0),

    // OVERLAY

    gsDPPipeSync(),
    gsDPSetOtherMode(G_AD_NOISE | G_CD_MAGICSQ | G_CK_NONE | G_TC_FILT | G_TF_POINT | G_TT_RGBA16 | G_TL_TILE |
                         G_TD_CLAMP | G_TP_PERSP | G_CYC_1CYCLE | G_PM_NPRIMITIVE,
                     G_AC_NONE | G_ZS_PIXEL | AA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_WRAP | FORCE_BL | ZMODE_XLU |
                         GBL_c1(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA) |
                         GBL_c2(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)),
    gsDPSetCombineLERP(0, 0, 0, TEXEL0, 0, 0, 0, PRIMITIVE, 0, 0, 0, TEXEL0, 0, 0, 0, PRIMITIVE),

    gsDPSetTextureImage(G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, 0x09000000),
    gsDPSetTile(0, 0, 0, 0x800 / 8, 5, 0, G_TX_WRAP | G_TX_NOMIRROR, G_TX_NOMASK, G_TX_NOLOD, G_TX_WRAP | G_TX_NOMIRROR,
                G_TX_NOMASK, G_TX_NOLOD),
    gsDPLoadTLUTCmd(5, LIGHTSOUT_NUM_STATES - 1),

#define TX_LINE(width, siz) ((((width) * (siz)) + 7) >> 3)

    gsDPSetTextureImage(G_IM_FMT_CI, G_IM_SIZ_8b, LIGHTSOUT_GRID_X, 0x08000000),
    gsDPSetTile(G_IM_FMT_CI, G_IM_SIZ_8b, TX_LINE(LIGHTSOUT_GRID_X, G_IM_SIZ_8b_TILE_BYTES), 0x000 / 8, G_TX_LOADTILE,
                0, G_TX_WRAP | G_TX_NOMIRROR, G_TX_NOMASK, G_TX_NOLOD, G_TX_WRAP | G_TX_NOMIRROR, G_TX_NOMASK,
                G_TX_NOLOD),
    gsDPLoadTile(G_TX_LOADTILE, 0, 0, LIGHTSOUT_GRID_X << G_TEXTURE_IMAGE_FRAC,
                 LIGHTSOUT_GRID_Y << G_TEXTURE_IMAGE_FRAC),
    gsDPSetTile(G_IM_FMT_CI, G_IM_SIZ_8b, TX_LINE(LIGHTSOUT_GRID_X, G_IM_SIZ_8b_LINE_BYTES), 0x000 / 8, G_TX_RENDERTILE,
                0, G_TX_CLAMP | G_TX_NOMIRROR, G_TX_NOMASK, TC_OVL_SFT_X, G_TX_CLAMP | G_TX_NOMIRROR, G_TX_NOMASK,
                TC_OVL_SFT_Y),
    gsDPSetTileSize(G_TX_RENDERTILE, 0, 0, LIGHTSOUT_GRID_X << G_TEXTURE_IMAGE_FRAC,
                    LIGHTSOUT_GRID_Y << G_TEXTURE_IMAGE_FRAC),

    gsSP2Triangles(16, 17, 18, 0, 16, 18, 19, 0),

    gsSPEndDisplayList(),
};

// COLLISION

// clang-format off
SurfaceType sLightsOutCollisionSurfaceTypes[] = {
    { 0x00000000, 0x00000000 },
};

CollisionPoly sLightsOutCollisionPolygons[] = {
    { 0, {{ 0, 1, 2 }}, { COLPOLY_SNORMAL( 0.0), COLPOLY_SNORMAL(0.0), COLPOLY_SNORMAL(-1.0) }, -25000 },
    { 0, {{ 0, 2, 3 }}, { COLPOLY_SNORMAL( 0.0), COLPOLY_SNORMAL(0.0), COLPOLY_SNORMAL(-1.0) }, -25000 },
    { 0, {{ 4, 5, 6 }}, { COLPOLY_SNORMAL( 0.0), COLPOLY_SNORMAL(0.0), COLPOLY_SNORMAL( 1.0) }, -25000 },
    { 0, {{ 4, 6, 7 }}, { COLPOLY_SNORMAL( 0.0), COLPOLY_SNORMAL(0.0), COLPOLY_SNORMAL( 1.0) }, -25000 },
    { 0, {{ 3, 2, 5 }}, { COLPOLY_SNORMAL( 1.0), COLPOLY_SNORMAL(0.0), COLPOLY_SNORMAL( 0.0) }, -25000 },
    { 0, {{ 3, 5, 4 }}, { COLPOLY_SNORMAL( 1.0), COLPOLY_SNORMAL(0.0), COLPOLY_SNORMAL( 0.0) }, -25000 },
    { 0, {{ 7, 6, 1 }}, { COLPOLY_SNORMAL(-1.0), COLPOLY_SNORMAL(0.0), COLPOLY_SNORMAL( 0.0) }, -25000 },
    { 0, {{ 7, 1, 0 }}, { COLPOLY_SNORMAL(-1.0), COLPOLY_SNORMAL(0.0), COLPOLY_SNORMAL( 0.0) }, -25000 },
    { 0, {{ 1, 6, 5 }}, { COLPOLY_SNORMAL( 0.0), COLPOLY_SNORMAL(1.0), COLPOLY_SNORMAL( 0.0) },   -750 },
    { 0, {{ 1, 5, 2 }}, { COLPOLY_SNORMAL( 0.0), COLPOLY_SNORMAL(1.0), COLPOLY_SNORMAL( 0.0) },   -750 },
    { 0, {{ 1, 6, 5 }}, { COLPOLY_SNORMAL( 0.0), COLPOLY_SNORMAL(1.0), COLPOLY_SNORMAL( 0.0) },   -750 },
    { 0, {{ 1, 5, 2 }}, { COLPOLY_SNORMAL( 0.0), COLPOLY_SNORMAL(1.0), COLPOLY_SNORMAL( 0.0) },   -750 },
};

Vec3s sLightsOutCollisionVertices[8] = {
    { -25000,   0, -25000 },
    { -25000, 750, -25000 },
    {  25000, 750, -25000 },
    {  25000,   0, -25000 },
    {  25000,   0,  25000 },
    {  25000, 750,  25000 },
    { -25000, 750,  25000 },
    { -25000,   0,  25000 },
};

CollisionHeader gLightsOutCollision = {
    { -25000,   0, -25000 },
    {  25000, 750,  25000 },
    ARRAY_COUNT(sLightsOutCollisionVertices),
    sLightsOutCollisionVertices,
    ARRAY_COUNT(sLightsOutCollisionPolygons),
    sLightsOutCollisionPolygons,
    sLightsOutCollisionSurfaceTypes,
    NULL,
    0,
    NULL
};
// clang-format on
